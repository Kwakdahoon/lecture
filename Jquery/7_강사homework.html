<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <title>체크박스 오예</title>
    <script>
        $(document).ready (function() { // window.onload %% $(function () {}) 와 같음
        let = burgerPrice = parseInt($("#burgerPrice").html());
        console.log(typeof burgerPrice);  // string -> number
        
        // change() 이벤트
        $(".side-menu").change(function(){
            claTotal();
            // 각 사이드 메뉴 체크박스를 체크해서 전체가 체크가 되면
            // 모두 선택 체크박스도 선택박스로 변경
            console.log($(".side-menu:checked").length); // side-menu : 안에 체크된거 확인
            if ($(".side-menu").length == $(".side-menu:checked").length) {
                $("#selectAll").prop("checked", true);
            } else {
                $("#selectAll").prop("checked", false);
            }
        });

        // 모두 선택 체크박스
        $("#selectAll").change(function () {
             if ($(this).prop("checked")) {
                $(".side-menu").prop("checked" , true);  
             } else {
                $(".side-menu").prop("checked", false);
             }
             claTotal();
            });

        function claTotal () {
            // 총 가격 계산
            let tot = burgerPrice;
            $(".side-menu").each(function (i ,item) {
                if ($(item).prop("checked")) {
                    // 체크되어있으면
                    let price = parseInt($(item).val())
                    tot += price;
                };
            });
            $("#totalPrice").text("총 가격 : " + tot + "원")
        };
    }); // window.onload
    </script>
</head>
<body>
    <h1>햄버억<span id="burgerPrice">10000</span>원</h1>
    <div>
    <img src="https://i.namu.wiki/i/0AXx8aI_kwQ2SF8JlM4l1Bj66iqJk2mO7hZWvmqJJTBa_XU9vZ-li2UsR9_LpmiSQyUp0DliLfruq-AP_nZsYWHr0ITocAJ-3HG6FGc9ODNABB0-tdgIaA0WSTpWA4OsnESyFPGbp_jmGOCyTGRHuw.webp" alt="" width="200px">
    </div>
    <h2>사이드 메뉴</h2>
    <input type="checkbox" class="side-menu" id="beef" value="2500"/>
    <label for="beef">쇠고기 +2500</label><br>
    <input type="checkbox" class="side-menu" id="shrimp" value="2500"/>
    <label for="shrimp">통새우 +2500</label><br>
    <input type="checkbox" class="side-menu" id="mushroom" value="1500"/>
    <label for="mushroom">머쉬룸 +1500</label><br>
    <input type="checkbox" class="side-menu" id="bacon" value="1200"/>
    <label for="bacon">베이컨 +1200</label><br>

    <p id="totalPrice">총가격 : 10000원</p>

    <input type="checkbox" id="selectAll">
    <label for="selectAll">모두 선택</label>

</body>
</html>